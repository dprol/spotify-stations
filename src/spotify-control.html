<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">

<dom-module id="spotify-control">
    <template>
        <style>
            :host {
                display: block;
                padding: 0 16px 12px 16px;
            }

            .bar {
                height: 5px;
                width: 100%;
                background-color: rgba(255, 255, 255, 0.5);
                margin-bottom: 12px;
                position: relative;
            }

            .progress {
                background-color: #ffffff;
                position: absolute;
                -webkit-animation: progress 100s linear infinite;
                        animation: progress 100s linear infinite;
                height: 100%;
            }

            @-webkit-keyframes progress {
                0% {
                    width: 0%;
                }
                100% {
                    width: 100%;
                }
            }

            @keyframes progress {
                0% {
                    width: 0%;
                }
                100% {
                    width: 100%;
                }
            }

            .info {
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                -webkit-box-align: center;
                    -ms-flex-align: center;
                        align-items: center;
                font-weight: 700;
                font-size: 14px;
            }

            .info .detail {
                display: -webkit-box;
                display: -ms-flexbox;
                display: flex;
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                    -ms-flex-direction: column;
                        flex-direction: column;
                -webkit-box-flex: 1;
                    -ms-flex: 1;
                        flex: 1;
                overflow: hidden;
            }

            .info .title {
                color: white;
                margin-bottom: 2px;
                -o-text-overflow: ellipsis;
                   text-overflow: ellipsis;
                white-space: nowrap;
                overflow: hidden
            }

            .info .artist {
                opacity: 0.8;
                -o-text-overflow: ellipsis;
                   text-overflow: ellipsis;
                white-space: nowrap;
                overflow: hidden
            }

            .info paper-icon-button {
                color: white;
            }

            .info iron-image {
                height: 64px;
                width: 64px;
                margin-right: 8px;
            }
        </style>
        <div class="bar">
            <div class="progress"></div>
        </div>
        <div class="info">
            <iron-image src="images/coldplay.jpg" sizing="cover"></iron-image>
            <div class="detail">
                <div class="title">All I Can Think About Is You</div>
                <div class="artist">Coldplay</div>
            </div>
            <div class="control">
                <paper-icon-button icon="spotify-icons:favorite-border"></paper-icon-button>
                <paper-icon-button icon="spotify-icons:pause"></paper-icon-button>
            </div>
        </div>

    </template>

    <script>

        class SpotifyControl extends Polymer.Element {
            static get is() { return 'spotify-control'; }

            ready() {
                super.ready();
            }
        }

        window.customElements.define(SpotifyControl.is, SpotifyControl);
    </script>
</dom-module>